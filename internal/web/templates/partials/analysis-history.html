{{if .Analyses}}
<div class="overflow-hidden rounded-xl border border-border">
    <table class="w-full">
        <thead>
            <tr class="bg-bg-secondary border-b border-border">
                <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-content-muted">Symbol</th>
                <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-content-muted">Recommendation</th>
                <th class="px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-content-muted">Confidence</th>
                <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-content-muted">AI Provider</th>
                <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-content-muted">Date</th>
                <th class="px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-content-muted"></th>
            </tr>
        </thead>
        <tbody class="divide-y divide-border">
            {{range .Analyses}}
            <tr class="hover:bg-bg-secondary/50 transition-colors duration-150">
                <td class="px-4 py-4">
                    <span class="font-semibold text-content-primary">{{.Symbol}}</span>
                </td>
                <td class="px-4 py-4">
                    {{if eq .Recommendation.Action "BUY"}}
                    <span class="inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold 
                                 rounded-full bg-positive-bg text-positive border border-positive/20">
                        <span class="w-1.5 h-1.5 rounded-full bg-positive"></span>
                        BUY
                    </span>
                    {{else if eq .Recommendation.Action "SELL"}}
                    <span class="inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold 
                                 rounded-full bg-negative-bg text-negative border border-negative/20">
                        <span class="w-1.5 h-1.5 rounded-full bg-negative"></span>
                        SELL
                    </span>
                    {{else if eq .Recommendation.Action "HOLD"}}
                    <span class="inline-flex items-center px-2.5 py-1 text-xs font-semibold 
                                 rounded-full bg-bg-tertiary text-content-secondary border border-border">
                        HOLD
                    </span>
                    {{else}}
                    <span class="inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold 
                                 rounded-full bg-warning-bg text-warning border border-warning/20">
                        <span class="w-1.5 h-1.5 rounded-full bg-warning"></span>
                        WATCH
                    </span>
                    {{end}}
                </td>
                <td class="px-4 py-4 text-right">
                    <span class="font-semibold font-mono text-accent">{{printf "%.0f" (mul .Recommendation.Confidence 100)}}%</span>
                </td>
                <td class="px-4 py-4">
                    <span class="text-sm text-content-muted">{{.AIProvider}}</span>
                </td>
                <td class="px-4 py-4">
                    <span class="text-sm text-content-muted">{{.CreatedAt.Format "Jan 02, 15:04"}}</span>
                </td>
                <td class="px-4 py-4 text-right">
                    <button hx-get="/partials/analysis-detail/{{.ID}}" 
                            hx-target="#analysis-result" 
                            hx-swap="innerHTML"
                            class="text-sm font-medium text-accent hover:text-accent-hover transition-colors">
                        View
                    </button>
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{else}}
<div class="text-center py-16">
    <div class="w-20 h-20 mx-auto mb-4 rounded-2xl bg-bg-tertiary flex items-center justify-center">
        <svg class="w-10 h-10 text-content-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
        </svg>
    </div>
    <p class="text-lg font-medium text-content-secondary">No analysis history yet</p>
    <p class="text-sm text-content-muted mt-1">Run your first stock analysis to get started</p>
    <a href="/analysis" 
       class="inline-flex items-center gap-2 mt-4 px-5 py-2.5 bg-accent hover:bg-accent-hover text-white font-medium 
              rounded-lg transition-all duration-200">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
        Run your first analysis
    </a>
</div>
{{end}}
